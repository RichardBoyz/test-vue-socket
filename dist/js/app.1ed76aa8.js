(function(){"use strict";var e={1774:function(e,n,t){var i=t(9242),u=(t(7658),t(3396)),o=t(7139),r=t(2066),a=t(4870);const l=e=>((0,u.dD)("data-v-6641ceae"),e=e(),(0,u.Cn)(),e),c={class:"chat"},s={key:0},v=["onSubmit"],f=l((()=>(0,u._)("label",null," 你的名字? ",-1))),p=l((()=>(0,u._)("button",{type:"submit"},"送出",-1))),d={class:"chat-container"},m={class:"messages-container"},b={key:0},g=l((()=>(0,u._)("hr",null,null,-1))),y={class:"message-input"},_=["onSubmit"],h=l((()=>(0,u._)("label",null,"訊息:",-1))),w=l((()=>(0,u._)("button",{type:"submit"},"送出",-1)));var k={__name:"App",setup(e){const n=(0,r.ZP)("https://chat-frontend-test.herokuapp.com/"),t=(0,a.iH)([]),l=(0,a.iH)(""),k=(0,a.iH)(!1),O=(0,a.iH)(""),j=(0,a.iH)("");(0,u.wF)((()=>{n.emit("findAllMessages",{},(e=>{t.value=e})),n.on("message",(e=>{t.value.push(e)})),n.on("typing",(({name:e,isTyping:n})=>{j.value=n?`${e} 正在輸入...`:""}))}));const S=()=>{n.emit("join",{name:O.value},(()=>{k.value=!0}))},T=()=>{n.emit("createMessage",{text:l.value},(()=>{l.value=""}))},x=()=>{n.emit("typing",{isTyping:!0}),setTimeout((()=>{n.emit("typing",{isTyping:!1})}),2e3)};return(e,n)=>((0,u.wg)(),(0,u.iD)("div",c,[k.value?(0,u.kq)("",!0):((0,u.wg)(),(0,u.iD)("div",s,[(0,u._)("form",{onSubmit:(0,i.iM)(S,["prevent"])},[f,(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>O.value=e)},null,512),[[i.nr,O.value]]),p],40,v)])),(0,u._)("div",d,[(0,u._)("div",m,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(t.value,((e,n)=>((0,u.wg)(),(0,u.iD)("div",{key:e.text+n}," ["+(0,o.zw)(e.name)+"]: "+(0,o.zw)(e.text),1)))),128))]),j.value?((0,u.wg)(),(0,u.iD)("div",b,(0,o.zw)(j.value),1)):(0,u.kq)("",!0),g,(0,u._)("div",y,[(0,u._)("form",{onSubmit:(0,i.iM)(T,["prevent"])},[h,(0,u.wy)((0,u._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e),onInput:x},null,544),[[i.nr,l.value]]),w],40,_)])])]))}},O=t(89);const j=(0,O.Z)(k,[["__scopeId","data-v-6641ceae"]]);var S=j;(0,i.ri)(S).mount("#app")}},n={};function t(i){var u=n[i];if(void 0!==u)return u.exports;var o=n[i]={exports:{}};return e[i](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,i,u,o){if(!i){var r=1/0;for(s=0;s<e.length;s++){i=e[s][0],u=e[s][1],o=e[s][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(a=!1,o<r&&(r=o));if(a){e.splice(s--,1);var c=u();void 0!==c&&(n=c)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[i,u,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var u,o,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(n){return 0!==e[n]}))){for(u in a)t.o(a,u)&&(t.m[u]=a[u]);if(l)var s=l(t)}for(n&&n(i);c<r.length;c++)o=r[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(s)},i=self["webpackChunktest_socket_vue"]=self["webpackChunktest_socket_vue"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(1774)}));i=t.O(i)})();
//# sourceMappingURL=app.1ed76aa8.js.map